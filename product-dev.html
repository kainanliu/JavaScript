<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        // 1.获取三个盒子
        // 小盒子
        const small = document.querySelector('.small')
        // 中盒子
        const middle = document.querySelector('.middle')
        // 大盒子
        const large = document.querySelector('.large')
        // 2.事件委托
        small.addEventListener('mouseover', function(e) {
            if (e.target.tagName === 'IMG') {
                // console.log(111)
                // 排他 干掉以前的 active li 上面
                this.querySelector('.active').classList.remove('active')
                // 当前元素的爸爸添加 active
                e.target.parentNode.classList.add('active')
                // 拿到当前小图片的 src
                // console.log(e.target.src)
                // 让中等盒子里面的图片，src 更换为 小图片src
                middle.querySelector('img').src = e.target.src
                // 大盒子更换背景图片
                large.style.backgroundImage = `url(${e.target.src})`
            }
        })


        // 3. 鼠标经过中等盒子，显示隐藏大盒子
        middle.addEventListener('mouseenter', show)
        middle.addEventListener('mouseleave', hide)
        let timeId = 0
        // 显示函数 显示大盒子
        function show() {
            // 先清除定时器
            clearTimeout(timeId)
            large.style.display = 'block'
        }
        // 隐藏函数
        function hide() {
            timeId = (function(){
                large.style.display = 'none'
            },200)
        }


        // 4. 鼠标经过大盒子，显示隐藏大盒子
        large.addEventListener('mouseenter', show)
        large.addEventListener('mouseleave', hide)


        // 5.鼠标经过中等盒子，显示隐藏 黑色遮罩层
        const layer = document.querySelector('.layer')
        middle.addEventListener('mouseenter', function() {
            layer.style.display = 'block'
        })
        middle.addEventListener('mouseleave', function() {
            layer.style.display = 'none'
        })
    </script>
</body>
</html>